<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Payment Organizer</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a cleaner look */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
        }
        .payment-item {
            transition: all 0.3s ease-in-out;
        }
        .payment-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-6 md:p-8">
        <!-- Application Header -->
        <h1 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-6">Monthly Payment Organizer</h1>

        <!-- Form for adding new payments -->
        <form id="payment-form" class="space-y-4 mb-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Payment Name Input -->
                <div>
                    <label for="payment-name" class="block text-sm font-medium text-gray-700">Payment Name</label>
                    <input type="text" id="payment-name" name="payment-name" required placeholder="e.g., Rent"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>

                <!-- Amount Input -->
                <div>
                    <label for="payment-amount" class="block text-sm font-medium text-gray-700">Amount ($)</label>
                    <input type="number" id="payment-amount" name="payment-amount" required step="0.01" min="0" placeholder="e.g., 1500.00"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>

                <!-- Due Date Input -->
                <div>
                    <label for="payment-date" class="block text-sm font-medium text-gray-700">Due Date</label>
                    <input type="date" id="payment-date" name="payment-date" required
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit"
                    class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Add Payment
            </button>
        </form>

        <!-- Display for total monthly payments -->
        <div class="mb-8 p-4 bg-indigo-50 rounded-lg shadow-inner">
            <h2 class="text-lg font-medium text-gray-800">Total Monthly Payments:</h2>
            <p id="total-amount" class="text-3xl font-bold text-indigo-600 mt-1">$0.00</p>
        </div>

        <!-- List of payments -->
        <div id="payment-list" class="space-y-4">
            <!-- Payment items will be dynamically added here -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get references to all necessary DOM elements
            const paymentForm = document.getElementById('payment-form');
            const paymentList = document.getElementById('payment-list');
            const totalAmountDisplay = document.getElementById('total-amount');

            // Array to store payment objects
            // Note: This data is not persistent and will be lost on page reload.
            let payments = [];

            // Event listener for the form submission
            paymentForm.addEventListener('submit', (event) => {
                event.preventDefault(); // Prevent default form submission behavior

                // Get values from the form inputs
                const nameInput = document.getElementById('payment-name');
                const amountInput = document.getElementById('payment-amount');
                const dateInput = document.getElementById('payment-date');

                const name = nameInput.value;
                const amount = parseFloat(amountInput.value);
                const date = dateInput.value;

                // Validate inputs before adding
                if (name && !isNaN(amount) && date) {
                    const newPayment = {
                        id: Date.now(), // Use a timestamp for a unique ID
                        name,
                        amount,
                        date
                    };

                    payments.push(newPayment); // Add the new payment to the array
                    renderPayments(); // Update the UI
                    calculateTotal(); // Update the total amount
                    
                    // Clear form inputs
                    nameInput.value = '';
                    amountInput.value = '';
                    dateInput.value = '';
                } else {
                    alert('Please fill out all fields correctly.'); // Simple alert for invalid input
                }
            });

            // Function to render the list of payments
            function renderPayments() {
                paymentList.innerHTML = ''; // Clear the current list

                // Loop through the payments array to create and append HTML elements
                payments.forEach(payment => {
                    const paymentItem = document.createElement('div');
                    paymentItem.className = 'payment-item flex items-center justify-between p-4 bg-gray-50 rounded-lg shadow-sm border border-gray-200';
                    paymentItem.innerHTML = `
                        <div class="flex-1">
                            <h3 class="text-base font-semibold text-gray-900">${payment.name}</h3>
                            <p class="text-sm text-gray-600">Due: ${formatDate(payment.date)}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xl font-bold text-gray-800">$${payment.amount.toFixed(2)}</p>
                            <button class="delete-button text-red-500 hover:text-red-700 text-xs mt-1" data-id="${payment.id}">
                                Delete
                            </button>
                        </div>
                    `;
                    paymentList.appendChild(paymentItem);
                });
            }

            // Function to calculate and display the total monthly amount
            function calculateTotal() {
                const total = payments.reduce((sum, payment) => sum + payment.amount, 0);
                totalAmountDisplay.textContent = `$${total.toFixed(2)}`;
            }

            // Event listener for deleting payments using event delegation
            paymentList.addEventListener('click', (event) => {
                const deleteButton = event.target.closest('.delete-button');
                if (deleteButton) {
                    const idToDelete = parseInt(deleteButton.dataset.id, 10);
                    // Filter the payments array to remove the item with the matching ID
                    payments = payments.filter(payment => payment.id !== idToDelete);
                    renderPayments(); // Re-render the list
                    calculateTotal(); // Re-calculate the total
                }
            });

            // Helper function to format the date
            function formatDate(dateString) {
                const date = new Date(dateString);
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                return date.toLocaleDateString(undefined, options);
            }

            // Initial render
            renderPayments();
            calculateTotal();
        });
    </script>

</body>
</html>
